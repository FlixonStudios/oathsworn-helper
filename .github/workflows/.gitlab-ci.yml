run-name: build android and web
on:
  push:
    branches:
      - main
env:
  # Define your Expo CLI version
  EXPO_CLI_VERSION: "0.18.29"
  UBUNTU: ubuntu-22.04
  KEY_PASSWORD: ${{ secrets.KEY_PASSWORD }}
  STORE_PASSWORD: ${{ secrets.STORE_PASSWORD }}

jobs:
  checkout_job:
    # cannot be set as an env variable
    runs-on: ubuntu-22.04
    environment: prd
    steps:
      # This step checks out a copy of your repository.
      - name: check out repository
        uses: actions/checkout@v4
      - run: echo ${{ secrets.TEST_SECRET }}
      - run: npm ci
      # should not modify package-lock
      - run: npx expo install
  prepare-scripts-job:
    runs-on: ubuntu-22.04
    steps:
      - run: apt-get install jq
